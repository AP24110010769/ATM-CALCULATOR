<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATM Simulator</title>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: radial-gradient(circle at center, #0d0d0d, #1a1a1a);
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .screen {
    display: none;
    text-align: center;
    width: 350px;
    background: #111;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 0 20px #0ff;
  }

  .screen.active {
    display: block;
  }

  h1, h2 {
    color: #0ff;
  }

  button {
    background: #0ff;
    border: none;
    padding: 10px 20px;
    margin: 8px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    color: #111;
    transition: 0.3s;
  }

  button:hover {
    background: #06c5c5;
  }

  input {
    padding: 10px;
    width: 80%;
    margin: 10px 0;
    border-radius: 5px;
    border: none;
    outline: none;
    text-align: center;
  }

  #userBalance {
    margin-top: 10px;
    font-size: 18px;
    color: #0ff;
    transition: opacity 0.5s ease;
    opacity: 0;
  }
</style>
</head>
<body>

<!-- üè† HOME SCREEN -->
<div id="homeScreen" class="screen active">
  <h1 id="welcomeText">WELCOME TO THE ATM</h1>
  <p id="pressNext">Press next to continue</p>
  <button id="nextBtn" onclick="goToLanguage()">Next</button>
</div>

<!-- üåê LANGUAGE SELECTION -->
<div id="languageScreen" class="screen">
  <h2 id="selectLanguageText">Select Language</h2>
  <button onclick="selectLanguage('english')">English</button>
  <button onclick="selectLanguage('hindi')">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
</div>

<!-- üîê LOGIN OR REGISTER -->
<div id="authScreen" class="screen">
  <h2 id="authTitle">ATM Access</h2>
  <input type="password" id="pinInput" placeholder="Enter PIN">
  <br>
  <button id="loginBtn" onclick="login()">Login</button>
  <button id="registerBtn" onclick="showRegister()">Register</button>
</div>

<!-- üìù REGISTER -->
<div id="registerScreen" class="screen">
  <h2 id="registerTitle">New User Registration</h2>
  <input type="password" id="newPin" placeholder="Create PIN"><br>
  <input type="number" id="initialBalance" placeholder="Initial Deposit (‚Çπ)"><br>
  <button id="submitBtn" onclick="register()">Submit</button>
  <button id="backBtn" onclick="goToAuth()">Back</button>
</div>

<!-- üí∞ MAIN MENU -->
<div id="menuScreen" class="screen">
  <h2 id="menuTitle">ATM Menu</h2>
  <p id="userBalance"></p>
  <button id="depositBtn" onclick="showDeposit()">Deposit</button>
  <button id="withdrawBtn" onclick="showWithdraw()">Withdraw</button>
  <button id="checkBalanceBtn" onclick="checkBalance()">Check Balance</button>
  <button id="logoutBtn" onclick="logout()">Logout</button>
</div>

<!-- üí∏ DEPOSIT -->
<div id="depositScreen" class="screen">
  <h2 id="depositTitle">Deposit Money</h2>
  <input type="number" id="depositAmount" placeholder="Enter amount (‚Çπ)">
  <br>
  <button id="depositSubmitBtn" onclick="deposit()">Submit</button>
  <button id="depositBackBtn" onclick="goToMenu()">Back</button>
</div>

<!-- üíµ WITHDRAW -->
<div id="withdrawScreen" class="screen">
  <h2 id="withdrawTitle">Withdraw Money</h2>
  <input type="number" id="withdrawAmount" placeholder="Enter amount (‚Çπ)">
  <br>
  <button id="withdrawSubmitBtn" onclick="withdraw()">Submit</button>
  <button id="withdrawBackBtn" onclick="goToMenu()">Back</button>
</div>

<script>
  let currentUser = null;
  let users = JSON.parse(localStorage.getItem("atmUsers")) || {};
  let currentLang = localStorage.getItem("atmLanguage") || "english";

  const translations = {
    english: {
      welcome: "WELCOME TO THE ATM",
      pressNext: "Press next to continue",
      next: "Next",
      selectLanguage: "Select Language",
      authTitle: "ATM Access",
      enterPin: "Enter PIN",
      login: "Login",
      register: "Register",
      newUser: "New User Registration",
      createPin: "Create PIN",
      initialDeposit: "Initial Deposit (‚Çπ)",
      submit: "Submit",
      back: "Back",
      menu: "ATM Menu",
      deposit: "Deposit",
      withdraw: "Withdraw",
      checkBalance: "Check Balance",
      logout: "Logout",
      depositMoney: "Deposit Money",
      withdrawMoney: "Withdraw Money",
      enterAmount: "Enter amount (‚Çπ)"
    },
    hindi: {
      welcome: "‡§è‡§ü‡•Ä‡§è‡§Æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",
      pressNext: "‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ó‡§≤‡§æ ‡§¶‡§¨‡§æ‡§è‡§Ç",
      next: "‡§Ü‡§ó‡•á",
      selectLanguage: "‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",
      authTitle: "‡§è‡§ü‡•Ä‡§è‡§Æ ‡§™‡§π‡•Å‡§Å‡§ö",
      enterPin: "‡§™‡§ø‡§® ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
      login: "‡§≤‡•â‡§ó‡§ø‡§®",
      register: "‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£",
      newUser: "‡§®‡§Ø‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£",
      createPin: "‡§™‡§ø‡§® ‡§¨‡§®‡§æ‡§è‡§Ç",
      initialDeposit: "‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ú‡§Æ‡§æ (‚Çπ)",
      submit: "‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç",
      back: "‡§µ‡§æ‡§™‡§∏",
      menu: "‡§è‡§ü‡•Ä‡§è‡§Æ ‡§Æ‡•á‡§®‡•Ç",
      deposit: "‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç",
      withdraw: "‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä",
      checkBalance: "‡§∂‡•á‡§∑ ‡§∞‡§æ‡§∂‡§ø ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç",
      logout: "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü",
      depositMoney: "‡§™‡•à‡§∏‡•á ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç",
      withdrawMoney: "‡§™‡•à‡§∏‡•á ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç",
      enterAmount: "‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‚Çπ)"
    }
  };

  function applyLanguage() {
    const t = translations[currentLang];
    document.getElementById("welcomeText").innerText = t.welcome;
    document.getElementById("pressNext").innerText = t.pressNext;
    document.getElementById("nextBtn").innerText = t.next;
    document.getElementById("selectLanguageText").innerText = t.selectLanguage;
    document.getElementById("authTitle").innerText = t.authTitle;
    document.getElementById("pinInput").placeholder = t.enterPin;
    document.getElementById("loginBtn").innerText = t.login;
    document.getElementById("registerBtn").innerText = t.register;
    document.getElementById("registerTitle").innerText = t.newUser;
    document.getElementById("newPin").placeholder = t.createPin;
    document.getElementById("initialBalance").placeholder = t.initialDeposit;
    document.getElementById("submitBtn").innerText = t.submit;
    document.getElementById("backBtn").innerText = t.back;
    document.getElementById("menuTitle").innerText = t.menu;
    document.getElementById("depositBtn").innerText = t.deposit;
    document.getElementById("withdrawBtn").innerText = t.withdraw;
    document.getElementById("checkBalanceBtn").innerText = t.checkBalance;
    document.getElementById("logoutBtn").innerText = t.logout;
    document.getElementById("depositTitle").innerText = t.depositMoney;
    document.getElementById("depositAmount").placeholder = t.enterAmount;
    document.getElementById("depositSubmitBtn").innerText = t.submit;
    document.getElementById("depositBackBtn").innerText = t.back;
    document.getElementById("withdrawTitle").innerText = t.withdrawMoney;
    document.getElementById("withdrawAmount").placeholder = t.enterAmount;
    document.getElementById("withdrawSubmitBtn").innerText = t.submit;
    document.getElementById("withdrawBackBtn").innerText = t.back;
  }

  function showScreen(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  }

  function goToLanguage() { showScreen("languageScreen"); }

  function selectLanguage(lang) {
    currentLang = lang;
    localStorage.setItem("atmLanguage", lang);
    applyLanguage();
    showScreen("authScreen");
  }

  function showRegister() { showScreen("registerScreen"); }
  function goToAuth() { showScreen("authScreen"); }

  function login() {
    const pin = document.getElementById("pinInput").value;
    if (users[pin]) {
      currentUser = pin;
      showScreen("menuScreen");
      hideBalance();
      document.getElementById("pinInput").value = "";
    } else alert(currentLang === "english" ? "Invalid PIN. Please register first!" : "‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§™‡§ø‡§®‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§∞‡•á‡§Ç!");
  }

  function register() {
    const pin = document.getElementById("newPin").value;
    const balance = parseFloat(document.getElementById("initialBalance").value);
    if (!pin || isNaN(balance) || balance < 0) {
      alert(currentLang === "english" ? "Please enter valid details!" : "‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!");
      return;
    }
    if (users[pin]) {
      alert(currentLang === "english" ? "User already exists!" : "‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à!");
      return;
    }
    users[pin] = { balance };
    localStorage.setItem("atmUsers", JSON.stringify(users));
    alert(currentLang === "english" ? "Registration successful!" : "‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§∏‡§´‡§≤ ‡§∞‡§π‡§æ!");
    document.getElementById("newPin").value = "";
    document.getElementById("initialBalance").value = "";
    showScreen("authScreen");
  }

  function showDeposit() { showScreen("depositScreen"); }
  function showWithdraw() { showScreen("withdrawScreen"); }

  function deposit() {
    const amount = parseFloat(document.getElementById("depositAmount").value);
    if (isNaN(amount) || amount <= 0) {
      alert(currentLang === "english" ? "Enter valid amount!" : "‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!");
      return;
    }
    users[currentUser].balance += amount;
    localStorage.setItem("atmUsers", JSON.stringify(users));
    alert(`‚Çπ${amount} ${currentLang === "english" ? "deposited successfully!" : "‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡§Æ‡§æ ‡§π‡•Å‡§Ü!"}`);
    document.getElementById("depositAmount").value = "";
    goToMenu();
  }

  function withdraw() {
    const amount = parseFloat(document.getElementById("withdrawAmount").value);
    if (isNaN(amount) || amount <= 0) {
      alert(currentLang === "english" ? "Enter valid amount!" : "‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!");
      return;
    }
    if (users[currentUser].balance < amount) {
      alert(currentLang === "english" ? "Insufficient balance!" : "‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§∂‡•á‡§∑ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à!");
      return;
    }
    users[currentUser].balance -= amount;
    localStorage.setItem("atmUsers", JSON.stringify(users));
    alert(`‚Çπ${amount} ${currentLang === "english" ? "withdrawn successfully!" : "‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§®‡§ø‡§ï‡§æ‡§≤‡§æ ‡§ó‡§Ø‡§æ!"}`);
    document.getElementById("withdrawAmount").value = "";
    goToMenu();
  }

  function checkBalance() {
    const balance = users[currentUser].balance;
    const balanceText = document.getElementById("userBalance");
    balanceText.innerText = currentLang === "english"
      ? `Your Balance: ‚Çπ${balance}`
      : `‡§Ü‡§™‡§ï‡•Ä ‡§∂‡•á‡§∑ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ${balance}`;
    balanceText.style.opacity = 1;
  }

  function hideBalance() {
    const balanceText = document.getElementById("userBalance");
    balanceText.innerText = "";
    balanceText.style.opacity = 0;
  }

  function goToMenu() {
    showScreen("menuScreen");
    hideBalance();
  }

  function logout() {
    currentUser = null;
    // ‚úÖ Reset language to English on logout
    currentLang = "english";
    localStorage.setItem("atmLanguage", "english");
    applyLanguage();
    alert("You have been logged out!");
    showScreen("homeScreen");
  }

  // Apply saved language when page loads
  window.onload = applyLanguage;
</script>

</body>
</html>
